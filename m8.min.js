!function(e,t,n){"use strict";function S(e){return e}function x(e,t){switch(Z(e)){case"array":break;case"string":e=e.split(".");break;default:return T(t)}m.test(e[0])&&(t=S,e.shift());if(!e.length)return T(t);e[0].indexOf("^")||(t||e[0]=="^"?e.shift():e[0]=e[0].substring(1)),t=T(t);var n;while(n=e.shift())t=t[n]||(t[n]=X());return t}function T(t){return s=="commonjs"?t?I(t)?t.exports:t:module.exports:t||e}function N(e){var t=Number(e),n;return isNaN(t)?(n=String(e))in f?f[n]:e:t}function C(e,t,n){n=n===!0,t||(t=e,e=X());for(var r in t)!H(t,r)||n&&H(e,r)||(e[r]=t[r]);return e}function k(e,n,r){var i=b.call(arguments,3),s=P(e,n),o,u,a,f;switch(Z(i[0])){case"string":u=d[i.shift()];break;case"object":u=i.shift();break;default:a=Z(r),u=a!="object"&&s?Object.getOwnPropertyDescriptor(e,n):null,!u||(u=a=="function"?d.cw:d.cew)}return f=i.shift()===!0,o=i.shift()===!0,s&&!f?o&&new Error(t+".def cannot overwrite existing property: "+n+", in item type: "+et(e)+"."):(a!="object"&&u&&(r=A(r,u)),(r.get||r.set)&&delete r.writable,Object.defineProperty(e,n,r)),S}function L(e,t,n,r,i){n||(n="cw");for(var s in t)!H(t,s)||k(e,s,t[s],n,r,i);return S}function A(e,t){return C(Z(e)=="object"?e:{value:e},Z(t)=="object"?t:d[String(t).toLowerCase()]||d.cew,!0)}function O(e){return!M(e)||!R(e)&&q(e)||!1}function M(e){return!(e===null||e===u||typeof e=="number"&&isNaN(e))}function _(t,n,i){typeof n!="string"&&t[r]&&(i=n,n=t[r]);if(s=="commonjs"&&I(i))i.exports=t;else{i||(i=e);var o=i[n],u=A({value:t},"ew");o&&q(o)?k(t=o,"__",u):k(i,n,u)}return i=X(),i[r]=n,i[__type__]="library",L(t,i,"w",!0),t}function D(e){return e.name||e.displayName||(String(e).match(g)||["",""])[1].trim()}function P(e,t){return arguments.length>2?B(P,e,Array.coerce(arguments,1)):t in Object(e)}function H(e,t){return arguments.length>2?B(H,e,Array.coerce(arguments,1)):o.hasOwnProperty.call(e,t)}function B(e,t,n){return n.some(function(n){return e(t,n)})}function j(e,t){return e?P(e,"id")?e.id:e.id=F(t):F(t)}function F(e){return(e||p)+ ++h}function I(e){if(a===null)return!1;try{return e instanceof a}catch(t){return!1}}function q(e){return P(e,"length")||Z(e)=="object"}function R(e){return("length"in(e=Object(e))?e:Object.keys(e)).length}function U(e,t){var n;if(!t)switch(n=Z(e)){case"array":case"object":t=e,e=new(t.constructor||Object);break;default:return e}else n=Z(t);switch(n){case"object":return Object.keys(t).reduce(W,{source:t,target:e}).target;case"array":return e.length=t.length,t.reduce(z,e);default:return t}}function z(e,t,n){return e[n]=U(t),e}function W(e,t){return e.target[t]=U(e.source[t]),e}function X(e){var t=Object.create(null);return typeof e=="object"?C(t,e):t}function V(e,t){var n=[e];while(++e<=t)n.push(e);return n}function $(e,t){t=Array.isArray(t)?t:b.call(arguments,1);var n=Array.isArray(e)?J:K;return t.forEach(n,e),e}function J(e){var t=this.indexOf(e);t=~t?t:!isNaN(e)&&e in this?e:t,t<0||this.splice(t,1)}function K(e){delete this[e]}function Q(e){return o.toString.call(e)}function G(e){return o.valueOf.call(e)}function Y(e){return e==c?c:e==l||e=="nodelist"?l:!e.indexOf("htm")&&e.lastIndexOf("element")+7===e.length?"htmlelement":!1}function Z(e){var t=Q(e);return t in w?w[t]:w[t]=t.split(" ")[1].split("]")[0].replace(y,"$1").toLowerCase()}function et(e){return e===null||e===u?!1:P(e,__type__)?e[__type__]:Object.getPrototypeOf(e)===null?"nullobject":u}function tt(){return b.call(arguments).forEach(rt),S}function nt(e){e(this,S)}function rt(e){P(e,i)||k(e,i,0,"w");var t=E[e[r]||D(e)];if(!t)return;t.slice(e[i]).forEach(nt,e),e[i]=t.length}typeof global=="undefined"?e:e=global;var r="__name__",__type__="__type__",i="__xid__",s=typeof module!="undefined"&&"exports"in module&&typeof require=="function"?"commonjs":typeof navigator!="undefined"?"browser":"other",o=Object.prototype,u,a=s!="commonjs"?null:require("module"),f=[!1,NaN,null,!0,u].reduce(function(e,t){return e[String(t)]=t,e},X()),l="htmlcollection",c="htmldocument",h=999,p="anon__",d=function(){var e={ce:"ec",cw:"wc",ew:"we",cew:"cwe ecw ewc wce wec".split(" ")},t="configurable enumerable writable".split(" "),n={c:[!0,!1,!1],ce:[!0,!0,!1],cew:[!0,!0,!0],cw:[!0,!1,!0],e:[!1,!0,!1],ew:[!1,!0,!0],r:[!1,!1,!1],w:[!1,!1,!0]},r=Object.keys(n).reduce(function(r,i){function s(e){r[e]=r[i]}var o=e[i];return r[i]=t.reduce(function(e,t,r){return e[t]=n[i][r],e},X()),!o||(Array.isArray(o)?o.forEach(s):s(o)),r},X());return delete r[u],r}(),v=/global|window/i,m=new RegExp("^\\u005E?"+t),g=/[\s\(]*function([^\(]+).*/,y=/^[Ww]ebkit|[Mm]oz|O|[Mm]s|[Kk]html(.*)$/,b=Array.prototype.slice,w={"[object Object]":"object"},E={Array:[],Boolean:[],Date:[],Function:[],Number:[],Object:[],RegExp:[],String:[]};k(tt,"cache",function(e,t){return typeof e=="string"||(e=e[r]||D(e)),E[e]||(E[e]=[]),E[e].push(t),S},"w"),tt.cache("Array",function(e){k(e,"coerce",function(e,t,n){return P(e,"length")?(t=et(t)=="number"?t>0?t:0:0,n=et(n)=="number"?n>t?n:n<=0?e.length+n:t+n:e.length,b.call(e,t,n)):[e]},"w"),k(e.prototype,"find",function(e,t){var n=-1,r=this.length>>>0;t||(t=this);while(++n<r)if(!!e.call(t,this[n],n,this))return this[n];return null},"w")}),tt.cache("Boolean",function(e){k(e,"coerce",function(e){switch(et(e)){case"boolean":return e;case"nan":case!1:return!1;case"number":case"string":return e in f?!!f[e]:Number(e)!==0}return!0},"w")}),tt.cache("Function",function(e){function t(e){return!e||e in o}function n(){return this.toString()}function i(){return this}var s="__xname__",o={Anonymous:!0,anonymous:!0},u={mimic:function(e,t){var r=e.valueOf();return L(this,{displayName:t||D(r),toString:n.bind(r),valueOf:i.bind(r)},"c",!0),this}};u[r]={get:function(){if(!this[s]){var e=this.valueOf(),n=e!==this?t(e[r])?null:e[r]:null,i=n||D(this);!t(i)||t(this.displayName)||(i=this.displayName),k(this,s,i||"anonymous","w")}return this[s]}},L(e.prototype,u,"w"),k(e,"anon_list",{value:o},"w")}),tt.cache("Object",function(e){k(e.prototype,__type__,C({get:function(){var e,t=this,n=t.constructor,i=Z(t),s=Y(i)||(v.test(i)?"global":!1);return s?s:i=="number"?isNaN(t)?"nan":"number":i=="object"&&typeof n=="function"&&n[__type__]!="function"?(e=String(n[r]).toLowerCase(),!e||e=="anonymous"?n[__type__]||i:e):i}},d.r)),L(e,{key:function(t,n){return e.keys(e(t)).find(function(e){return t[e]===n})},reduce:function(t,n,r){return e.keys(e(t)).reduce(function(e,r,i){return e=n.call(t,e,t[r],r,t,i),e},r)},value:function(t,n){if(isNaN(n)){if(P(t,n))return t[n];if(!!~n.indexOf(".")){var r;n=n.split(".");while(r=n.shift())if((t=e.value(t,r))===u)break;return t}}return O(t)?u:M(t[n])?t[n]:typeof t.get=="function"?t.get(n):typeof t.getAttribute=="function"?t.getAttribute(n):u},values:function(t){return e.keys(Object(t)).map(function(e){return t[e]})}},"w")}),q(n)||(n=e),L(S=_(S,t,s=="commonjs"?module:n),{ENV:s,global:{value:e},modes:{value:d},bless:x,coerce:N,copy:C,def:k,defs:L,describe:A,empty:O,exists:M,expose:_,got:P,has:H,id:j,iter:q,len:R,merge:U,nativeType:Z,noop:function(){},obj:X,range:V,remove:$,tostr:Q,type:et,valof:G,x:tt},"w"),tt(Object,Array,Boolean,Function)}(this,"m8")